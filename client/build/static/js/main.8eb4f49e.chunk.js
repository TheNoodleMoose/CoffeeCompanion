(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,n,t){e.exports=t(76)},44:function(e,n,t){},50:function(e,n,t){},76:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(17),i=t.n(o),c=(t(44),t(9)),u=t.n(c),l=t(14),s=t(8),p=t(10),m=t(12),h=t(11),d=t(13),f=t(78),g=t(81),b=t(80),x=t(33),v=t(22),w=t.n(v),y=function e(){var n=this;Object(s.a)(this,e),this.login=function(){var e=Object(l.a)(u.a.mark(function e(t,a){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchHeader("/login",{method:"POST",body:JSON.stringify({email:t,password:a})});case 2:return r=e.sent,n.setToken(r.token),e.abrupt("return",Promise.resolve(r));case 5:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}(),this.loggedIn=function(){var e=n.getToken();return!!e&&!n.isTokenExpired(e)},this.isTokenExpired=function(e){try{return w()(e).exp<Date.now()/1e3}catch(n){return console.log("expired check failed! Line 42: AuthService.js"),!1}},this.setToken=function(e){localStorage.setItem("id_token",e)},this.getToken=function(){return localStorage.getItem("id_token")},this.logout=function(){localStorage.removeItem("id_token")},this.getConfirm=function(){var e=w()(n.getToken());return console.log("Recieved answer!"),e},this.fetchHeader=function(e,t){var a={Accept:"application/json","Content-Type":"application/json"};return n.loggedIn()&&(a.Authorization="Bearer ".concat(n.getToken())),fetch(e,Object(x.a)({headers:a},t)).then(n.checkStatus).then(function(e){return e.json()})},this.checkStatus=function(e){if(e.status>=200&&e.status<300)return e;var n=new Error(e.statusText);throw n.response=e,n}},E=(t(50),t(2)),j=t(15),O=t(3),k=t(77);function C(){var e=Object(E.a)(["\n  width: 100px;\n  height: 100px;\n"]);return C=function(){return e},e}function A(){var e=Object(E.a)(["\n  background: #67615a;\n  color: white;\n  font-weight: bold;\n  font-size: 18px;\n  border: none;\n  border-radius: 5px;\n  margin: 20px 0;\n  width: 150px;\n  height: 30px;\n"]);return A=function(){return e},e}function S(){var e=Object(E.a)(["\n  border-radius: 2px;\n  border: 2px solid #e0ddd9;\n  height: 25px;\n  width: 275px;\n"]);return S=function(){return e},e}function F(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin: 10px 0;\n"]);return F=function(){return e},e}function I(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n"]);return I=function(){return e},e}function T(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 0 auto;\n  margin-top: 50px;\n  padding: 10px;\n  width: 300px;\n  height: auto;\n  background-color: #f3f1ee;\n  color: #2f2923;\n  border-radius: 10px;\n  box-shadow: 1px 4px 21px 2px rgba(224, 208, 224, 1);\n"]);return T=function(){return e},e}var U=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).state={email:"",password:""},t.Auth=new y,t.handleChange=function(e){var n=e.target,a=n.value,r=n.name;t.setState(Object(j.a)({},r,a))},t.submitForm=function(){var e=Object(l.a)(u.a.mark(function e(n){var a,r,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(t.state),a=t.state,r=a.email,o=a.password,e.next=5,t.Auth.login(r,o);case 5:!0===e.sent.success&&t.props.history.push("/Brewing");case 7:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),t}return Object(d.a)(n,e),Object(p.a)(n,[{key:"componentWillMount",value:function(){!0===this.Auth.loggedIn()&&this.props.history.replace("/Brewing")}},{key:"render",value:function(){var e=this.props.submitFakeForm,n=this.state,t=n.email,a=n.password;return r.a.createElement("div",null,r.a.createElement(W,{src:"https://img.icons8.com/cotton/64/000000/cup.png",alt:"coffee-mug"}),r.a.createElement(B,null,r.a.createElement("h1",null,"Log In"),r.a.createElement(_,{"data-testid":"login-form",onSubmit:this.submitForm||function(){return e({email:t,password:a})}},r.a.createElement(H,{htmlFor:"email"},"Email",r.a.createElement(L,{id:"email",value:t,name:"email",onChange:this.handleChange,type:"email"})),r.a.createElement(H,{htmlFor:"password"},"Password",r.a.createElement(L,{id:"password",value:a,name:"password",onChange:this.handleChange,type:"password"})),r.a.createElement(M,{"data-testid":"login-button",type:"submit"},"Login"))),r.a.createElement("p",null,"Don't Have An Account?"),r.a.createElement(k.a,{to:"/"},r.a.createElement("p",null,"Sign Up Here")))}}]),n}(a.Component),B=O.a.div(T()),_=O.a.form(I()),H=O.a.label(F()),L=O.a.input(S()),M=O.a.button(A()),W=O.a.img(C()),D=t(79),z=t(36),N=t.n(z);function P(){var e=Object(E.a)(["\n  width: 100px;\n  height: 100px;\n"]);return P=function(){return e},e}function q(){var e=Object(E.a)(["\n  background: #67615a;\n  color: white;\n  font-weight: bold;\n  font-size: 18px;\n  border: none;\n  border-radius: 5px;\n  margin: 20px 0;\n  width: 150px;\n  height: 30px;\n"]);return q=function(){return e},e}function J(){var e=Object(E.a)(["\n  border-radius: 2px;\n  border: 2px solid #e0ddd9;\n  height: 25px;\n  width: 275px;\n"]);return J=function(){return e},e}function R(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin: 10px 0;\n"]);return R=function(){return e},e}function K(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n"]);return K=function(){return e},e}function V(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 0 auto;\n  margin-top: 50px;\n  padding: 10px;\n  width: 300px;\n  height: auto;\n  background-color: #f3f1ee;\n  color: #2f2923;\n  border-radius: 10px;\n  box-shadow: 1px 4px 21px 2px rgba(224, 208, 224, 1);\n"]);return V=function(){return e},e}var $=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).state={name:"",email:"",password:""},t.Auth=new y,t.handleChange=function(e){var n=e.target,a=n.value,r=n.name;t.setState(Object(j.a)({},r,a))},t.submitForm=function(){var e=Object(l.a)(u.a.mark(function e(n){var a,r,o,i,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=t.state,r=a.name,o=a.email,i=a.password,e.next=4,N.a.post("/register",{name:r,email:o,password:i});case 4:if(c=e.sent,!0!==c.data.success){e.next=11;break}return e.next=9,t.Auth.login(o,i);case 9:!0===e.sent.success&&t.props.history.push("/Brewing");case 11:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),t}return Object(d.a)(n,e),Object(p.a)(n,[{key:"componentWillMount",value:function(){!0===this.Auth.loggedIn()&&this.props.history.replace("/Brewing")}},{key:"render",value:function(){var e=this.props.submitFakeForm,n=this.state,t=n.email,a=n.password,o=n.name;return n.redirect?r.a.createElement(D.a,{push:!0,to:"/Brewing"}):r.a.createElement("div",null,r.a.createElement(ee,{src:"https://img.icons8.com/cotton/64/000000/cup.png",alt:"coffee-mug"}),r.a.createElement(G,null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement(Q,{"data-testid":"login-form",onSubmit:this.submitForm||function(){return e({email:t,password:a})}},r.a.createElement(X,{htmlFor:"name"},"Name",r.a.createElement(Y,{id:"name",value:o,name:"name",onChange:this.handleChange,type:"text"})),r.a.createElement(X,{htmlFor:"email"},"Email",r.a.createElement(Y,{id:"email",value:t,name:"email",onChange:this.handleChange,type:"email"})),r.a.createElement(X,{htmlFor:"password"},"Password",r.a.createElement(Y,{id:"password",value:a,name:"password",onChange:this.handleChange,type:"password"})),r.a.createElement(Z,{"data-testid":"login-button",type:"submit"},"Sign Up"))),r.a.createElement("p",null,"Have An Account?"),r.a.createElement(k.a,{to:"/login"},r.a.createElement("p",null,"Login Here!")))}}]),n}(a.Component),G=O.a.div(V()),Q=O.a.form(K()),X=O.a.label(R()),Y=O.a.input(J()),Z=O.a.button(q()),ee=O.a.img(P());function ne(){var e=Object(E.a)(["\n  width: 20px;\n  height: 20px;\n"]);return ne=function(){return e},e}function te(){var e=Object(E.a)(["\n  background: #67615a;\n  color: white;\n  font-weight: bold;\n  font-size: 18px;\n  border: none;\n  border-radius: 5px;\n  margin: 20px 0;\n  width: 150px;\n  height: 30px;\n"]);return te=function(){return e},e}function ae(){var e=Object(E.a)(["\n  margin: 10px 0;\n  &:checked + "," {\n    background: #67615a;\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background-color: #85817d;\n  font-weight: bold;\n  color: white;\n  width: 125px;\n  height: 40px;\n  border-radius: 15px;\n  margin: 5px;\n"]);return re=function(){return e},e}function oe(){var e=Object(E.a)(["\n  display: flex;\n  flex-flow: row wrap;\n"]);return oe=function(){return e},e}function ie(){var e=Object(E.a)(["\n  border-radius: 2px;\n  border: 2px solid #e0ddd9;\n  height: 25px;\n  width: 275px;\n"]);return ie=function(){return e},e}function ce(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin: 10px 0;\n"]);return ce=function(){return e},e}function ue(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 0 auto;\n  margin-top: 50px;\n  padding: 10px;\n  width: 300px;\n  height: auto;\n  background-color: #f3f1ee;\n  color: #2f2923;\n  border-radius: 10px;\n  box-shadow: 1px 4px 21px 2px rgba(224, 208, 224, 1);\n"]);return ue=function(){return e},e}var le=function(e){var n=new y;return function(t){function a(){var e,n;Object(s.a)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={confirm:null,loaded:!1},n}return Object(d.a)(a,t),Object(p.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.history;if(n.loggedIn())try{var t=n.getConfirm();console.log("confirmation is:",t),this.setState({confirm:t,loaded:!0})}catch(a){console.log(a),n.logout(),e.replace("/login")}else e.replace("/login")}},{key:"render",value:function(){var n=this.props.history,t=this.state,a=t.loaded,o=t.confirm;return!0===a?o?(console.log("confirmed!"),r.a.createElement(e,{history:n,confirm:o})):(console.log("not confirmed!"),null):null}}]),a}(a.Component)}(function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).state={country:"",roaster:"",brew_method:"",coffee_amount:"",coffee_strength:"",coffee_coarseness:"",brewMethods:[{id:1,name:"Chemex"},{id:2,name:"Hario V60"},{id:3,name:"Kalita"},{id:4,name:"Cold Brew"}]},t.Auth=new y,t.handleChange=function(e){var n=e.target,a=n.value,r=n.name;t.setState(Object(j.a)({},r,a))},t.LogOut=function(){t.Auth.logout(),t.props.history.replace("/login")},t}return Object(d.a)(n,e),Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this.Auth.getConfirm();this.setState({username:e.name})}},{key:"render",value:function(){var e=this,n=this.state,t=n.country,a=n.roaster,o=n.brewMethods,i=n.username;return r.a.createElement("div",null,r.a.createElement(ge,{"data-testid":"login-button",type:"button",onClick:this.LogOut},"Logout"),r.a.createElement("h1",{"data-testid":"users-intro"},"Hi ",i,"!"),r.a.createElement("h1",null,"Let's brew an awesome cup of coffee!"),r.a.createElement("form",null,r.a.createElement(se,null,r.a.createElement(be,{src:"https://img.icons8.com/ios/50/000000/help.png",alt:"question-country"}),r.a.createElement("h3",null,"What type of coffee are we brewing?"),r.a.createElement(pe,{htmlFor:"country"},"Country, Region",r.a.createElement(me,{id:"country",value:t,name:"country",onChange:this.handleChange,type:"text"})),r.a.createElement(pe,{htmlFor:"roaster"},"Roaster",r.a.createElement(me,{id:"roaster",value:a,name:"roaster",onChange:this.handleChange,type:"text"}))),r.a.createElement(se,null,r.a.createElement(be,{src:"https://img.icons8.com/ios/50/000000/help.png",alt:"question-country"}),r.a.createElement("h3",null,"What brew method are we using?"),r.a.createElement(he,null,o.map(function(n){return r.a.createElement("div",{key:n.id},r.a.createElement(fe,{id:"brew_method",value:n.name,name:"brew_method",onClick:e.handleChange,type:"radio"}),r.a.createElement(de,{htmlFor:"brew_method"},r.a.createElement("img",{src:"https://img.icons8.com/small/32/000000/temperature.png",alt:"temp"}),r.a.createElement("span",null,n.name)))}))),r.a.createElement(se,null,r.a.createElement(be,{src:"https://img.icons8.com/ios/50/000000/help.png",alt:"question-country"}),r.a.createElement("h3",null,"How much coffee are we making?"))))}}]),n}(a.Component)),se=O.a.div(ue()),pe=O.a.label(ce()),me=O.a.input(ie()),he=O.a.div(oe()),de=O.a.label(re()),fe=O.a.input(ae(),de),ge=O.a.button(te()),be=O.a.img(ne()),xe=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).state={cool:"",CurrentUser:{name:"Christian"},loggedIn:!1},t.updateUser=function(){t.setState({loggedIn:!0})},t.logOut=function(){t.setState({loggedIn:!1})},t}return Object(d.a)(n,e),Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,n=this.state.CurrentUser;return r.a.createElement(f.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"}),r.a.createElement(g.a,null,r.a.createElement(b.a,{exact:!0,path:"/",render:function(n){return r.a.createElement($,Object.assign({},n,{updateUser:e.updateUser}))}}),r.a.createElement(b.a,{path:"/Login",render:function(n){return r.a.createElement(U,Object.assign({},n,{updateUser:e.updateUser}))}}),r.a.createElement(b.a,{path:"/Brewing",render:function(t){return r.a.createElement(le,Object.assign({},t,{currentUser:n,logOut:e.logOut}))}}))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,2,1]]]);
//# sourceMappingURL=main.8eb4f49e.chunk.js.map