(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,n,t){e.exports=t(88)},45:function(e,n,t){},51:function(e,n,t){},83:function(e,n,t){var a={"./12OzCup.svg":84,"./24OzCup.svg":85,"./36OzCup.svg":86};function r(e){var n=o(e);return t(n)}function o(e){var n=a[e];if(!(n+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=83},84:function(e,n,t){e.exports=t.p+"static/media/12OzCup.2a82234e.svg"},85:function(e,n,t){e.exports=t.p+"static/media/24OzCup.25c9eaf8.svg"},86:function(e,n,t){e.exports=t.p+"static/media/36OzCup.a078eeae.svg"},87:function(e,n,t){e.exports=t.p+"static/media/coarse_bean.0cf23e15.svg"},88:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(17),i=t.n(o),c=(t(45),t(9)),u=t.n(c),l=t(14),s=t(8),d=t(10),m=t(12),p=t(11),h=t(13),f=t(90),g=t(93),x=t(92),b=t(34),v=t(22),w=t.n(v),y=function e(){var n=this;Object(s.a)(this,e),this.login=function(){var e=Object(l.a)(u.a.mark(function e(t,a){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchHeader("/login",{method:"POST",body:JSON.stringify({email:t,password:a})});case 2:return r=e.sent,n.setToken(r.token),e.abrupt("return",Promise.resolve(r));case 5:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}(),this.loggedIn=function(){var e=n.getToken();return!!e&&!n.isTokenExpired(e)},this.isTokenExpired=function(e){try{return w()(e).exp<Date.now()/1e3}catch(n){return console.log("expired check failed! Line 42: AuthService.js"),!1}},this.setToken=function(e){localStorage.setItem("id_token",e)},this.getToken=function(){return localStorage.getItem("id_token")},this.logout=function(){localStorage.removeItem("id_token")},this.getConfirm=function(){var e=w()(n.getToken());return console.log("Recieved answer!"),e},this.fetchHeader=function(e,t){var a={Accept:"application/json","Content-Type":"application/json"};return n.loggedIn()&&(a.Authorization="Bearer ".concat(n.getToken())),fetch(e,Object(b.a)({headers:a},t)).then(n.checkStatus).then(function(e){return e.json()})},this.checkStatus=function(e){if(e.status>=200&&e.status<300)return e;var n=new Error(e.statusText);throw n.response=e,n}},E=(t(51),t(2)),O=t(15),j=t(3),k=t(89);function C(){var e=Object(E.a)(["\n  width: 100px;\n  height: 100px;\n"]);return C=function(){return e},e}function S(){var e=Object(E.a)(["\n  background: #67615a;\n  color: white;\n  font-weight: bold;\n  font-size: 18px;\n  border: none;\n  border-radius: 5px;\n  margin: 20px 0;\n  width: 150px;\n  height: 30px;\n"]);return S=function(){return e},e}function A(){var e=Object(E.a)(["\n  border-radius: 2px;\n  border: 2px solid #e0ddd9;\n  height: 25px;\n  width: 275px;\n"]);return A=function(){return e},e}function F(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin: 10px 0;\n"]);return F=function(){return e},e}function z(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n"]);return z=function(){return e},e}function H(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 0 auto;\n  margin-top: 50px;\n  padding: 10px;\n  width: 300px;\n  height: auto;\n  background-color: #f3f1ee;\n  color: #2f2923;\n  border-radius: 10px;\n  box-shadow: 1px 4px 21px 2px rgba(224, 208, 224, 1);\n"]);return H=function(){return e},e}var I=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={email:"",password:""},t.Auth=new y,t.handleChange=function(e){var n=e.target,a=n.value,r=n.name;t.setState(Object(O.a)({},r,a))},t.submitForm=function(){var e=Object(l.a)(u.a.mark(function e(n){var a,r,o,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=t.state,r=a.email,o=a.password,i=t.props.history,e.next=5,t.Auth.login(r,o);case 5:!0===e.sent.success&&i.push("/Brewing");case 7:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),t}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentWillMount",value:function(){var e=this.props.history;!0===this.Auth.loggedIn()&&e.replace("/Brewing")}},{key:"render",value:function(){var e=this.props.submitFakeForm,n=this.state,t=n.email,a=n.password;return r.a.createElement("div",null,r.a.createElement(D,{src:"https://img.icons8.com/cotton/64/000000/cup.png",alt:"coffee-mug"}),r.a.createElement(U,null,r.a.createElement("h1",null,"Log In"),r.a.createElement(T,{"data-testid":"login-form",onSubmit:this.submitForm||function(){return e({email:t,password:a})}},r.a.createElement(B,{htmlFor:"email"},"Email",r.a.createElement(L,{id:"email",value:t,name:"email",onChange:this.handleChange,type:"email"})),r.a.createElement(B,{htmlFor:"password"},"Password",r.a.createElement(L,{id:"password",value:a,name:"password",onChange:this.handleChange,type:"password"})),r.a.createElement(M,{"data-testid":"login-button",type:"submit"},"Login"))),r.a.createElement("p",null,"Don't Have An Account?"),r.a.createElement(k.a,{to:"/"},r.a.createElement("p",null,"Sign Up Here")))}}]),n}(a.Component),U=j.a.div(H()),T=j.a.form(z()),B=j.a.label(F()),L=j.a.input(A()),M=j.a.button(S()),D=j.a.img(C()),_=t(91),W=t(37),N=t.n(W);function q(){var e=Object(E.a)(["\n  width: 100px;\n  height: 100px;\n"]);return q=function(){return e},e}function P(){var e=Object(E.a)(["\n  background: #67615a;\n  color: white;\n  font-weight: bold;\n  font-size: 18px;\n  border: none;\n  border-radius: 5px;\n  margin: 20px 0;\n  width: 150px;\n  height: 30px;\n"]);return P=function(){return e},e}function J(){var e=Object(E.a)(["\n  border-radius: 2px;\n  border: 2px solid #e0ddd9;\n  height: 25px;\n  width: 275px;\n"]);return J=function(){return e},e}function R(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin: 10px 0;\n"]);return R=function(){return e},e}function G(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n"]);return G=function(){return e},e}function K(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 0 auto;\n  margin-top: 50px;\n  padding: 10px;\n  width: 300px;\n  height: auto;\n  background-color: #f3f1ee;\n  color: #2f2923;\n  border-radius: 10px;\n  box-shadow: 1px 4px 21px 2px rgba(224, 208, 224, 1);\n"]);return K=function(){return e},e}var V=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={name:"",email:"",password:""},t.Auth=new y,t.handleChange=function(e){var n=e.target,a=n.value,r=n.name;t.setState(Object(O.a)({},r,a))},t.submitForm=function(){var e=Object(l.a)(u.a.mark(function e(n){var a,r,o,i,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=t.state,r=a.name,o=a.email,i=a.password,e.next=4,N.a.post("/register",{name:r,email:o,password:i});case 4:if(c=e.sent,!0!==c.data.success){e.next=11;break}return e.next=9,t.Auth.login(o,i);case 9:!0===e.sent.success&&t.props.history.push("/Brewing");case 11:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),t}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentWillMount",value:function(){!0===this.Auth.loggedIn()&&this.props.history.replace("/Brewing")}},{key:"render",value:function(){var e=this.props.submitFakeForm,n=this.state,t=n.email,a=n.password,o=n.name;return n.redirect?r.a.createElement(_.a,{push:!0,to:"/Brewing"}):r.a.createElement("div",null,r.a.createElement(ee,{src:"https://img.icons8.com/cotton/64/000000/cup.png",alt:"coffee-mug"}),r.a.createElement($,null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement(Q,{"data-testid":"login-form",onSubmit:this.submitForm||function(){return e({email:t,password:a})}},r.a.createElement(X,{htmlFor:"name"},"Name",r.a.createElement(Y,{id:"name",value:o,name:"name",onChange:this.handleChange,type:"text"})),r.a.createElement(X,{htmlFor:"email"},"Email",r.a.createElement(Y,{id:"email",value:t,name:"email",onChange:this.handleChange,type:"email"})),r.a.createElement(X,{htmlFor:"password"},"Password",r.a.createElement(Y,{id:"password",value:a,name:"password",onChange:this.handleChange,type:"password"})),r.a.createElement(Z,{"data-testid":"login-button",type:"submit"},"Sign Up"))),r.a.createElement("p",null,"Have An Account?"),r.a.createElement(k.a,{to:"/login"},r.a.createElement("p",null,"Login Here!")))}}]),n}(a.Component),$=j.a.div(K()),Q=j.a.form(G()),X=j.a.label(R()),Y=j.a.input(J()),Z=j.a.button(P()),ee=j.a.img(q()),ne=t(38),te=t.n(ne);t(81);function ae(){var e=Object(E.a)(["\n  width: 38px;\n  height: 37px;\n  margin: 0 10px;\n"]);return ae=function(){return e},e}function re(){var e=Object(E.a)(["\n  width: 20px;\n  height: 20px;\n"]);return re=function(){return e},e}function oe(){var e=Object(E.a)(["\n  background: #67615a;\n  color: white;\n  font-weight: bold;\n  font-size: 18px;\n  border: none;\n  border-radius: 3px;\n  margin: 20px 0;\n  width: 200px;\n  height: 40px;\n"]);return oe=function(){return e},e}function ie(){var e=Object(E.a)(["\n  background: #67615a;\n  color: white;\n  font-weight: bold;\n  font-size: 18px;\n  border: none;\n  border-radius: 5px;\n  margin: 20px 0;\n  width: 150px;\n  height: 30px;\n"]);return ie=function(){return e},e}function ce(){var e=Object(E.a)(["\n  font-size: 14px;\n  font-weight: 500;\n"]);return ce=function(){return e},e}function ue(){var e=Object(E.a)(["\n  margin: 10px 0;\n  display: none;\n  &:checked + "," {\n    background: #85817d;\n  }\n"]);return ue=function(){return e},e}function le(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justidtalign-items: center;\n  background-color: #67615a;\n  font-weight: bold;\n  color: white;\n  width: 125px;\n  height: 70px;\n  border-radius: 3px;\n  margin: 10px;\n"]);return le=function(){return e},e}function se(){var e=Object(E.a)(["\n  display: none;\n  margin: 10px 0;\n"]);return se=function(){return e},e}function de(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n  color: white;\n  width: 75px;\n  height: 60px;\n  border-radius: 15px;\n  margin: 10px;\n"]);return de=function(){return e},e}function me(){var e=Object(E.a)(["\n  display: none;\n  margin: 10px 0;\n  &:checked + "," {\n    background: #67615a;\n  }\n"]);return me=function(){return e},e}function pe(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background-color: #85817d;\n  font-weight: bold;\n  color: white;\n  width: 125px;\n  height: 40px;\n  border-radius: 15px;\n  margin: 5px;\n"]);return pe=function(){return e},e}function he(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n"]);return he=function(){return e},e}function fe(){var e=Object(E.a)(["\n  display: flex;\n  flex-flow: row wrap;\n"]);return fe=function(){return e},e}function ge(){var e=Object(E.a)(["\n  display: flex;\n  flex-flow: row wrap;\n"]);return ge=function(){return e},e}function xe(){var e=Object(E.a)(["\n  display: flex;\n  flex-flow: row wrap;\n"]);return xe=function(){return e},e}function be(){var e=Object(E.a)(["\n  border-radius: 2px;\n  border: 2px solid #e0ddd9;\n  height: 25px;\n  width: 275px;\n"]);return be=function(){return e},e}function ve(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin: 10px 0;\n"]);return ve=function(){return e},e}function we(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 0 auto;\n  margin-top: 24px;\n  padding: 10px;\n  width: 300px;\n  height: auto;\n  background-color: #f3f1ee;\n  color: #2f2923;\n  border-radius: 10px;\n  box-shadow: 1px 4px 21px 2px rgba(224, 208, 224, 1);\n"]);return we=function(){return e},e}var ye=function(e){var n=new y;return function(t){function a(){var e,n;Object(s.a)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={confirm:null,loaded:!1},n}return Object(h.a)(a,t),Object(d.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.history;if(n.loggedIn())try{var t=n.getConfirm();console.log("confirmation is:",t),this.setState({confirm:t,loaded:!0})}catch(a){console.log(a),n.logout(),e.replace("/login")}else e.replace("/login")}},{key:"render",value:function(){var n=this.props.history,t=this.state,a=t.loaded,o=t.confirm;return!0===a?o?(console.log("confirmed!"),r.a.createElement(e,{history:n,confirm:o})):(console.log("not confirmed!"),null):null}}]),a}(a.Component)}(function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={country:"",roaster:"",brew_method:"",coffeeAmount:"",coffeeStrength:"15",coffeeCoarseness:"",brewMethods:[{id:1,name:"Chemex"},{id:2,name:"Hario V60"},{id:3,name:"Kalita"},{id:4,name:"Cold Brew"}],brewAmount:[{id:5,amount:12},{id:6,amount:24},{id:7,amount:36}],grindSizes:[{id:8,grind:"Extra Coarse",text:"Slightly larger than kosher salt"},{id:9,grind:"Coarse",text:"Similar to kosher salt"},{id:10,grind:"Med-Coarse",text:"Coarse Sand"},{id:11,grind:"Medium",text:"Slightly smaller than table salt"},{id:12,grind:"Fine",text:"Slightly finer than sugar"},{id:13,grind:"Extra Fine",text:"Similar to powdered sugar"}]},t.Auth=new y,t.handleChange=function(e){var n=e.target,a=n.value,r=n.name;t.setState(Object(O.a)({},r,a))},t.handleChangeHorizontal=function(e){t.setState({coffeeStrength:e})},t.LogOut=function(){t.Auth.logout(),t.props.history.replace("/login")},t}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this.Auth.getConfirm();this.setState({username:e.name})}},{key:"render",value:function(){var e=this,n=this.state,a=n.country,o=n.roaster,i=n.brewMethods,c=n.username,u=n.coffeeAmount,l=n.brewAmount,s=n.coffeeStrength,d=n.grindSizes;return r.a.createElement("div",null,r.a.createElement(Le,{"data-testid":"login-button",type:"button",onClick:this.LogOut},"Logout"),r.a.createElement("h1",{"data-testid":"users-intro"},"Hi ",c,"!"),r.a.createElement("h1",null,"Let's brew an awesome cup of coffee!"),r.a.createElement("form",null,r.a.createElement(Ee,null,r.a.createElement(De,{src:"https://img.icons8.com/ios/50/000000/help.png",alt:"question-country"}),r.a.createElement("h3",null,"What type of coffee are we brewing?"),r.a.createElement(Oe,{htmlFor:"country"},"Country, Region",r.a.createElement(je,{id:"country",value:a,name:"country",onChange:this.handleChange,type:"text"})),r.a.createElement(Oe,{htmlFor:"roaster"},"Roaster",r.a.createElement(je,{id:"roaster",value:o,name:"roaster",onChange:this.handleChange,type:"text"}))),r.a.createElement(Ee,null,r.a.createElement(De,{src:"https://img.icons8.com/ios/50/000000/help.png",alt:"question-country"}),r.a.createElement("h3",null,"What brew method are we using?"),r.a.createElement(ke,null,i.map(function(n){return r.a.createElement("div",{key:n.id},r.a.createElement(ze,{id:n.id,value:n.name,name:"brew_method",onClick:e.handleChange,type:"radio"}),r.a.createElement(Fe,{htmlFor:n.id},r.a.createElement("img",{src:"https://img.icons8.com/small/32/000000/temperature.png",alt:"temp"}),r.a.createElement("span",null,n.name)))}))),r.a.createElement(Ee,null,r.a.createElement(De,{src:"https://img.icons8.com/ios/50/000000/help.png",alt:"question-country"}),r.a.createElement("h3",null,"How much coffee are we making?"),r.a.createElement(Ce,null,l.map(function(n){return r.a.createElement("div",{key:n.id},r.a.createElement(Ie,{id:n.id,value:n.amount,name:"coffeeAmount",onClick:e.handleChange,type:"radio"}),r.a.createElement(He,{htmlFor:n.id},r.a.createElement("img",{src:t(83)("./".concat(n.amount,"OzCup.svg")),alt:"coffee-mug-amount"})))})),r.a.createElement("h3",null,u," Oz")),r.a.createElement(Ee,null,r.a.createElement(De,{src:"https://img.icons8.com/ios/50/000000/help.png",alt:"question-country"}),r.a.createElement("h3",null,"How strong do you like your coffee?"),r.a.createElement(Ae,null,r.a.createElement(te.a,{min:15,max:20,value:parseFloat(s),format:function(e){return"".concat(e," g")},onChange:this.handleChangeHorizontal}),r.a.createElement(_e,{src:"https://img.icons8.com/ios/50/000000/flex-biceps.png",alt:"how-strong"})),r.a.createElement("h3",null,"1: ",s,"g Coffee to water")),r.a.createElement(Ee,null,r.a.createElement(De,{src:"https://img.icons8.com/ios/50/000000/help.png",alt:"question-country"}),r.a.createElement("h3",null,"How fine are we grinding this?"),r.a.createElement("img",{src:t(87),alt:"coffee-bean"}),r.a.createElement(Se,null,d.map(function(n){return r.a.createElement("div",{key:n.id},r.a.createElement(Te,{id:n.id,value:n.grind,name:"coffeeCoarseness",onClick:e.handleChange,type:"radio"}),r.a.createElement(Ue,{htmlFor:n.id},r.a.createElement("span",null,n.grind),r.a.createElement(Be,null,n.text)))}))),r.a.createElement(Me,{type:"submit"},"Let's Get Brewing!")))}}]),n}(a.Component)),Ee=j.a.div(we()),Oe=j.a.label(ve()),je=j.a.input(be()),ke=j.a.div(xe()),Ce=j.a.div(ge()),Se=j.a.div(fe()),Ae=j.a.div(he()),Fe=j.a.label(pe()),ze=j.a.input(me(),Fe),He=j.a.label(de()),Ie=j.a.input(se()),Ue=j.a.label(le()),Te=j.a.input(ue(),Ue),Be=j.a.span(ce()),Le=j.a.button(ie()),Me=j.a.button(oe()),De=j.a.img(re()),_e=j.a.img(ae()),We=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={CurrentUser:{name:"Christian"},loggedIn:!1},t.updateUser=function(){t.setState({loggedIn:!0})},t.logOut=function(){t.setState({loggedIn:!1})},t}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,n=this.state.CurrentUser;return r.a.createElement(f.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{"data-testid":"header",className:"App-header"}),r.a.createElement(g.a,null,r.a.createElement(x.a,{exact:!0,path:"/",render:function(n){return r.a.createElement(V,Object.assign({},n,{updateUser:e.updateUser}))}}),r.a.createElement(x.a,{path:"/Login",render:function(n){return r.a.createElement(I,Object.assign({},n,{updateUser:e.updateUser}))}}),r.a.createElement(x.a,{path:"/Brewing",render:function(t){return r.a.createElement(ye,Object.assign({},t,{currentUser:n,logOut:e.logOut}))}}))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(We,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,2,1]]]);
//# sourceMappingURL=main.47d48e6e.chunk.js.map